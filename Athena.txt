// ATHENA AI OVERVIEW //

MAIN VIBE:
- AI Chatbot capable of everything a chatbot can typically do (Prompt engineering, image/video generation)

ATHENA CHALLENGE:
- MAIN GOAL: Simplify campus life for university students (MAKE THEM FINANCIALLY LITERATE).
- CRITERIA: Must contain at least one MCP (Model Context Protocol) tool and one or more widgets.
- MCP Tools --> Specific capability or "action" that an AI model can perform through this protocol.

CAPABILITIES FOR OUR PROJECT:
The following capabilities were assessed through prompts.
1. 

Phase 1: The Database (Supabase)
Before touching the design we need to structure the SQL database.

Create a Supabase Project: Go to Supabase and start a new project.
Create Tables (Table Editor):
Table 1: users
id (UUID Primary Key)
name (Text)
email (Text)
employment_status (Text)
monthly_budget (Number)
ai_insight (Text) -> This will hold the "Verbal Insight" generated by Gumloop.
Table 2: transactions
id (UUID)
created_at (Timestamp)
amount (Number)
description (Text)
category (Text)
source (Text) -> e.g. "Shortcut" or "Statement"
user_id (UUID Foreign Key linked to users.id)
Phase 2: The "Brain" (Gumloop Flows)
Gumloop will handle the logic. Since it needs to talk to Supabase you will use Gumloop's "Postgres" nodes (or HTTP Request nodes) to read/write data.

Flow A: The Apple Pay Logger (Real-Time)
Trigger: iOS Shortcut. Action: Categorize and save to Supabase.

Webhook Trigger: Accepts {"cost": 15 "item": "Lunch" "user_email": "..."}.
Ask AI: "Categorize '[item]' costing $[cost] into [Food Fun Transport]. Return just the word."
Postgres - Execute Query (Insert):
Connect this node to your Supabase credentials.
Query:
        INSERT INTO transactions (amount, description, category, source, user_id)
        VALUES ({{cost}}, '{{item}}', '{{ai_category}}', 'Apple Shortcut',
        (SELECT id FROM users WHERE email = '{{user_email}}'))
        
Flow B: The Statement Parser (Bulk Upload)
Trigger: File Upload from Softr. Action: Parse PDF and batch insert to Supabase.

Webhook Trigger: Set to accept a File (PDF).
PDF to Text Node: Extract raw text.
Ask AI: "Extract all transactions as a JSON list."
Loop Node: Iterate through the list.
Postgres - Execute Query (Insert):
Insert each transaction into the transactions table with source = 'Bank Statement'.
Flow C: The Analyst (Verbal Insights)
Trigger: Scheduled (Weekly) or Button Click. Action: Update the ai_insight column in Supabase so Softr can display it.

Postgres - Execute Query (Select):
SELECT * FROM transactions WHERE user_id = ... AND created_at > now() - interval '7 days'
Ask AI: "Analyze this spending data. Write a friendly 2-sentence summary for the dashboard."
Postgres - Execute Query (Update):
UPDATE users SET ai_insight = '{{ai_summary}}' WHERE id = ...
Phase 3: The Website (Softr)
Softr connects directly to Supabase to display data but uses forms to trigger Gumloop.

Step 1: Connect Data
In Softr Studio go to "Data Sources" and add Supabase. You will need your Supabase Host Database Name User and Password.

Step 2: Build the Pages
Page 1: Onboarding (The Form)

Add a Custom Form block.
Fields: Name Employment Status Budget etc.
Action: "Send to Make/Zapier/Webhook".
Paste your Gumloop Onboarding Webhook URL.
Why? Because you want Gumloop to calculate the budget advice before saving the user to Supabase.
Page 2: The Dashboard (Visuals)

The Charts: Add a Chart Block.
Source: Supabase (transactions table).
Type: Bar Chart (Sum of amount grouped by category).
The Verbal Insight: Add a List/Details Block.
Source: Supabase (users table).
Filter: Show record where email matches "Logged In User".
Field: Map the Text Block to the ai_insight column from your database.
Result: When the user logs in they see: "Hey! You spent 20% less on food this week. Great job." (This text was written by Gumloop flow C).
Page 3: Upload Statements

Add a Form Block.
Field: File Picker (Label: "Upload Bank PDF").
Action: Send to Webhook (Paste your Gumloop Flow B URL).
Summary of Operations
You buy coffee: You tap your Apple Shortcut. It hits Gumloop -> Gumloop inserts a row into Supabase.
You visit your website:
Softr fetches the new row from Supabase and updates the bar chart instantly.
You see a text summary generated by the AI.
End of Month: You go to the "Upload" page on your website drop a PDF. Softr sends it to Gumloop which parses it and fills your Supabase database with 100+ rows.
Why this stack is better?
Supabase is SQL meaning you can do complex queries (like "Compare this month vs last month") much faster than Google Sheets.
Softr handles user login/authentication (Sign in with Google/Email) out of the box which is the hardest part of building a web app from scratch.